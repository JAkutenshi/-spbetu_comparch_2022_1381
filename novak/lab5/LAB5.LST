Microsoft (R) Macro Assembler Version 5.10                  11/14/22 22:41:3
                                                             Page     1-1


 0000				DATA SEGMENT
 0000  78			 sec db 120
 0001  02			 time db 2
 0002  0000			 keep_cs dw 0 ;–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–≥–º
				–µ–Ω—Ç–∞
 0004  0000			 keep_ip dw 0 ;–∏ —Å–º–µ—â–µ–Ω–∏—è –ø—Ä–µ—Ä—ã–≤
				–∞–Ω–∏—è
 0006				DATA ENDS
				
 0000				AStack SEGMENT STACK
 0000  0200[			 DW 512 DUP(?)
	   ????			
			 ]	
				
 0400				AStack ENDS
				
 0000				CODE SEGMENT
				 ASSUME CS:CODE, DS:DATA, SS:AStack
				
 0000				SOUND PROC FAR ;–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ—Ä—ã–≤
				–∞–Ω–∏—è
 0000  50			 push ax
 0001				sound_start:
 0001  B0 B6			  mov al, 10110110b
 0003  E6 43			  out 43h, al
 0005  B8 1130			  mov ax, 4400
				
				  ;—É—Å—Ç–∞–Ω–∞–ª–∏–≤–∞–µ–º —á–∞—Å—Ç–æ—Ç—É
 0008  E6 42			  out 42h, al
 000A  8A C4			  mov al, ah
 000C  E6 42			  out 42h, al
				
				  ;–≤–∫–ª—é—á–∞–µ–º –¥–∏–Ω–∞–º–∏–∫
 000E  E4 61			  in al, 61h ;—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
				 –ø–æ—Ä—Ç–∞ 61h –≤ AL
 0010  0C 03			  or al, 00000011b ;—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 
				–±–∏—Ç—ã 0 –∏ 1 –≤ 1 (—Ä–∞–∑—Ä–µ—à–∞–µ–º —Ä–∞–±
				–æ—Ç—É –¥–∏–Ω–∞–º–∏–∫–∞ –∏ –≤–∫–ª—é—á–∏—Ç—å –µ–
				≥–æ)
 0012  E6 61			  out 61h, al ;–≤–∫–ª—é—á–∞–µ–º –¥–∏–Ω–∞–º–∏–∫
				
 0014  FE 06 0001 R		inc time
 0018				timer:
 0018  B4 2C			  mov ah, 2ch
 001A  CD 21			  int 21h
 001C  3A 36 0000 R		  cmp dh, sec
 0020  74 F6			  je timer
				
 0022  88 36 0000 R		 mov sec, dh
 0026  FE 0E 0001 R		 dec time
 002A  75 EC			 jnz timer
				 
 002C				sound_end:;–≤—ã–∫–ª—é—á–∞–µ–º –¥–∏–Ω–∞–º–∏–∫
 002C  E4 61			  in al, 61h
Microsoft (R) Macro Assembler Version 5.10                  11/14/22 22:41:3
                                                             Page     1-2


 002E  24 FC			  and al, 11111100b ;–æ–±–Ω—É–ª—è–µ–º –º–ª–∞–¥—
				à–∏–µ –¥–≤–∞ –±–∏—Ç–∞
 0030  E6 61			  out 61h, al 
 0032  58			  pop ax
 0033  B0 20			  mov al, 20h
 0035  E6 20			  out 20h, al
 0037  CF			  iret
 0038				SOUND ENDP
				
				
 0038				Main PROC FAR
 0038  1E			 push ds
 0039  2B C0			 sub ax, ax
 003B  50			 push ax
 003C  B8 ---- R		 mov ax, DATA
 003F  8E D8			 mov ds, ax
				
 0041  80 3E 0001 R 00		cmp time,0
 0046  75 00			 jne read_symbol
				
 0048				read_symbol:
 0048  B4 00			 mov ah, 0
 004A  CD 16			 int 16h
 004C  3C 03			 cmp al, 3 ;
 004E  75 F8			 jne read_symbol
				 
 0050  B8 3523			 mov ax, 3523h
 0053  CD 21			 int 21h
 0055  89 1E 0004 R		 mov keep_ip, bx ;–∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–º–µ
				—â–µ–Ω–∏—è
 0059  8C 06 0002 R		 mov keep_cs, es ;–∏ —Å–µ–≥–º–µ–Ω—Ç–∞
 005D  1E			 push ds
 005E  BA 0000 R		 mov dx, offset SOUND ;—Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è 
				–ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤ DX
 0061  B8 ---- R		 mov ax, seg SOUND ;—Å–µ–≥–º–µ–Ω—Ç –ø—Ä–æ—Ü–µ–¥
				—É—Ä—ã
 0064  8E D8			 mov ds, ax ;–ø–æ–º–µ—â–∞–µ–º –≤ DS
 0066  B4 25			 mov ah, 25h ;—Ñ—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
				 –≤–µ–∫—Ç–æ—Ä–∞
 0068  B0 23			 mov al, 23h ;–Ω–æ–º–µ—Ä –≤–µ–∫—Ç–æ—Ä–∞
 006A  CD 21			 int 21h ;–º–µ–Ω—è–µ–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
 006C  1F			 pop ds
 006D  CD 23			 int 23h ;–≤—ã–∑–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
				
 006F  FA			 CLI;–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–
				π –≤–µ–∫—Ç–æ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
 0070  1E			 push ds
 0071  8B 16 0004 R		 mov dx, keep_ip
 0075  A1 0002 R		 mov ax, keep_cs
 0078  8E D8			 mov ds, ax
 007A  B4 25			 mov ah, 25h
 007C  B0 23			 mov al, 23h
 007E  CD 21			 int 21h ;–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–µ–∫
				—Ç–æ—Ä
Microsoft (R) Macro Assembler Version 5.10                  11/14/22 22:41:3
                                                             Page     1-3


 0080  1F			 pop ds
 0081  FB			 STI
 0082  CB			 RET
					
 0083				Main ENDP
 0083				CODE ENDS
				END Main
Microsoft (R) Macro Assembler Version 5.10                  11/14/22 22:41:3
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

ASTACK . . . . . . . . . . . . .  	0400	PARA	STACK	
CODE . . . . . . . . . . . . . .  	0083	PARA	NONE	
DATA . . . . . . . . . . . . . .  	0006	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

KEEP_CS  . . . . . . . . . . . .  	L WORD	0002	DATA
KEEP_IP  . . . . . . . . . . . .  	L WORD	0004	DATA

MAIN . . . . . . . . . . . . . .  	F PROC	0038	CODE	Length = 004B

READ_SYMBOL  . . . . . . . . . .  	L NEAR	0048	CODE

SEC  . . . . . . . . . . . . . .  	L BYTE	0000	DATA
SOUND  . . . . . . . . . . . . .  	F PROC	0000	CODE	Length = 0038
SOUND_END  . . . . . . . . . . .  	L NEAR	002C	CODE
SOUND_START  . . . . . . . . . .  	L NEAR	0001	CODE

TIME . . . . . . . . . . . . . .  	L BYTE	0001	DATA
TIMER  . . . . . . . . . . . . .  	L NEAR	0018	CODE

@CPU . . . . . . . . . . . . . .  	TEXT  0101h		
@FILENAME  . . . . . . . . . . .  	TEXT  lab5		
@VERSION . . . . . . . . . . . .  	TEXT  510		


     98 Source  Lines
     98 Total   Lines
     18 Symbols

  47942 + 432678 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
